<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:loc="clr-namespace:Foodbook.Services"
             xmlns:models="clr-namespace:Foodbook.Models"
             xmlns:vm="clr-namespace:Foodbook.ViewModels"
             xmlns:components="clr-namespace:Foodbook.Views.Components"
             x:Class="Foodbook.Views.ArchivePage"
             x:Name="ThisPage"
             x:DataType="vm:ArchiveViewModel"
             Title="{loc:Translate Resource=ArchivePageResources, Key=Title}"
             BackgroundColor="{AppThemeBinding Light={StaticResource Gray100}, Dark={StaticResource Gray950}}">
    
    <ContentPage.Resources>
        <DataTemplate x:Key="ArchivedPlanItemTemplate" x:DataType="models:Plan">
            <components:UniversalListItemComponent 
                RestoreCommand="{Binding BindingContext.RestorePlanCommand, Source={x:Reference ThisPage}}"
                DeleteCommand="{Binding BindingContext.DeletePlanCommand, Source={x:Reference ThisPage}}"
                ShowNutritionLayout="False"
                ShowPlanLayout="True"
                ShowDeleteButton="True"
                ShowArchiveButton="False"
                ShowRestoreButton="True"
                ShowSubtitle="False" />
        </DataTemplate>
    </ContentPage.Resources>

    <components:GenericListComponent 
        ItemsSource="{Binding ArchivedPlans}"
        ItemTemplate="{StaticResource ArchivedPlanItemTemplate}"
        IsRefreshing="False"
        EmptyTitle="Brak zarchiwizowanych list zakupÃ³w"
        EmptyHint=""
        IsVisible="True" />
        
</ContentPage>